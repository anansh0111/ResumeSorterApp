<!doctype html>
<html>
<head>
    <title>Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="container py-5">
    <h2>Match Results</h2>
    <table class="table table-bordered">
        <thead><tr><th>Candidate</th><th>Match Score (%)</th></tr></thead>
        <tbody>
            {% for r in results %}
            <tr><td>{{ r.name }}</td><td>{{ r.score }}</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <canvas id="chart" height="100"></canvas>
    <script>
        new Chart(document.getElementById('chart'), {
            type: 'bar',
            data: {
                labels: {{ names|tojson }},
                datasets: [{
                    label: 'Match Score (%)',
                    data: {{ scores|tojson }},
                    backgroundColor: 'rgba(75, 192, 192, 0.6)'
                }]
            },
            options: {
                scales: { y: { beginAtZero: true, max: 100 } }
            }
        });
    </script>
    <a href="/" class="btn btn-secondary mt-4">Back</a>
</body>
</html>
